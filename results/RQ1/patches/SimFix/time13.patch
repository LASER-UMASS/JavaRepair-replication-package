--- /home/mmotwani/mywork1dir/Defects4Java7/defects4j/SIMFIX_RQ1/time/time_13_buggy/src/main/java/org/joda/time/Period.java	2019-09-02 15:30:55.000000000 -0400
+++ ./time/13/0/1_Period.java	2019-09-02 15:43:35.000000000 -0400
@@ -964,9 +964,19 @@
      * @throws UnsupportedOperationException if the field is not supported
      */
     public Period withMillis(int millis) {
+// start of generated patch
+if(millis==0){
+return this;
+}
+int[] values=getValues();
+getPeriodType().setIndexedField(this,PeriodType.MILLI_INDEX,values,millis);
+return new Period(values,getPeriodType());
+// end of generated patch
+/* start of original code
         int[] values = getValues();  // cloned
         getPeriodType().setIndexedField(this, PeriodType.MILLI_INDEX, values, millis);
         return new Period(values, getPeriodType());
+ end of original code*/
     }
 
     //-----------------------------------------------------------------------
