--- ./original/com/google/javascript/jscomp/CheckSideEffects.java	2018-11-27 22:34:52.000000000 -0500
+++ ./variant18/com/google/javascript/jscomp/CheckSideEffects.java	2018-11-27 23:58:35.000000000 -0500
@@ -120,11 +120,7 @@
         }
       }
     } else if (parent.getType() != Token.EXPR_RESULT && parent.getType() != Token.BLOCK) {
-      if (parent.getType() == Token.FOR && parent.getChildCount() == 4 && (n == parent.getFirstChild() ||
-           n == parent.getFirstChild().getNext().getNext())) {
-      } else {
-      return;
-      }
+      {for (Node an:parent.getAncestors()){int ancestorType=an.getType();if (ancestorType == Token.COMMA)continue;if (ancestorType != Token.EXPR_RESULT && ancestorType != Token.BLOCK)return; else break;}}
     }
 
     boolean isResultUsed = NodeUtil.isExpressionResultUsed(n);
