--- ./original/org/apache/commons/math/linear/EigenDecompositionImpl.java	2018-07-16 13:27:26.000000000 -0400
+++ ./variant16/org/apache/commons/math/linear/EigenDecompositionImpl.java	2018-07-16 13:42:36.000000000 -0400
@@ -1169,7 +1169,7 @@
         final double relativeTolerance = Math.sqrt(MathUtils.EPSILON);
         final double absoluteTolerance = 4 * minPivot;
         final int maxIter =
-            2 + (int) ((Math.log(tNorm + minPivot) - Math.log(minPivot)) / Math.log(2.0));
+            2 + (int) ((Math.log(tNorm + minPivot) - Math.log(Math.abs(upper))) / Math.log(2.0));
         final double margin = 2 * (tNorm * MathUtils.EPSILON * n + 2 * minPivot);
 
         // search lower eigenvalue
