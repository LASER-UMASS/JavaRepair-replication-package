--- ./original/org/apache/commons/lang/text/StrBuilder.java	2018-07-16 12:41:35.000000000 -0400
+++ ./variant17/org/apache/commons/lang/text/StrBuilder.java	2018-07-16 20:25:01.000000000 -0400
@@ -1722,7 +1722,7 @@
      * @return the first index of the character, or -1 if not found
      */
     public int indexOf(char ch, int startIndex) {
-        startIndex = (startIndex < 0 ? 0 : startIndex);
+        startIndex = (startIndex < 0 || str == null || startIndex >= size ? 0 : startIndex);
         if (startIndex >= size) {
             return -1;
         }
