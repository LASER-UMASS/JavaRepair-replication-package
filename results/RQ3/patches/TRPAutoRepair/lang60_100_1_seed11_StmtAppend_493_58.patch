--- ./original/org/apache/commons/lang/text/StrBuilder.java	2019-10-17 13:07:36.000000000 -0400
+++ ./variant170/org/apache/commons/lang/text/StrBuilder.java	2019-10-17 15:30:54.000000000 -0400
@@ -1200,12 +1200,19 @@
      */
     public StrBuilder deleteFirst(String str) {
         int len = (str == null ? 0 : str.length());
-        if (len > 0) {
-            int index = indexOf(str, 0);
-            if (index >= 0) {
-                deleteImpl(index, index + len, len);
-            }
-        }
+        {
+			if (len > 0) {
+				int index = indexOf(str, 0);
+				if (index >= 0) {
+					deleteImpl(index, index + len, len);
+				}
+			}
+			if (buffer.length > length()) {
+				char[] old = buffer;
+				buffer = new char[length()];
+				System.arraycopy(old, 0, buffer, 0, size);
+			}
+		}
         return this;
     }
 
