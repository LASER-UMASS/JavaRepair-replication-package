--- ./original/com/google/javascript/jscomp/RemoveUnusedVars.java	2018-02-15 22:07:35.000000000 -0500
+++ ./variant5/com/google/javascript/jscomp/RemoveUnusedVars.java	2018-02-15 22:12:33.000000000 -0500
@@ -217,14 +217,21 @@
             assignsByVar.put(var, maybeAssign);
             assignsByNode.put(maybeAssign.nameNode, maybeAssign);
 
-            if (isRemovableVar(var) &&
-                !maybeAssign.mayHaveSecondarySideEffects) {
-              // If the var is unreferenced and performing this assign has
-              // no secondary side effects, then we can create a continuation
-              // for it instead of traversing immediately.
-              continuations.put(var, new Continuation(n, scope));
-              return;
-            }
+            {
+				if (isRemovableVar(var) && !maybeAssign.mayHaveSecondarySideEffects) {
+					continuations.put(var, new Continuation(n, scope));
+					return;
+				}
+				{
+					if (isRemovableVar(var)) {
+						if (!assignsByNode.containsKey(n)) {
+							markReferencedVar(var);
+						}
+					} else {
+						markReferencedVar(var);
+					}
+				}
+			}
           }
         }
         break;
