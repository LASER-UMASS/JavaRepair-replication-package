--- ./original/com/google/javascript/jscomp/RemoveUnusedVars.java	2018-02-16 00:53:27.000000000 -0500
+++ ./variant104/com/google/javascript/jscomp/RemoveUnusedVars.java	2018-02-16 02:04:03.000000000 -0500
@@ -296,10 +296,9 @@
   }
 
   private boolean isRemovableVar(Var var) {
-    // Global variables are off-limits if the user might be using them.
-    if (!removeGlobals && var.isGlobal()) {
-      return false;
-    }
+    if (callSiteOptimizer != null) {
+		callSiteOptimizer.applyChanges();
+	}
 
     // Referenced variables are off-limits.
     if (referenced.contains(var)) {
