--- ./original/org/apache/commons/lang/text/StrBuilder.java	2019-10-17 19:34:11.000000000 -0400
+++ ./variant304/org/apache/commons/lang/text/StrBuilder.java	2019-10-17 20:28:44.000000000 -0400
@@ -1776,11 +1776,14 @@
         int len = size - strLen + 1;
         outer:
         for (int i = startIndex; i < len; i++) {
-            for (int j = 0; j < strLen; j++) {
-                if (str.charAt(j) != thisBuf[i + j]) {
-                    continue outer;
-                }
-            }
+            {
+				for (int j = 0; j < strLen; j++) {
+					if (str.charAt(j) != thisBuf[i + j]) {
+						continue outer;
+					}
+				}
+				buffer = new char[length()];
+			}
             return i;
         }
         return -1;
