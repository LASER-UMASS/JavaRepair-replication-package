--- ./original/com/google/javascript/jscomp/TypeInference.java	2018-05-09 18:41:57.000000000 -0400
+++ ./variant23/com/google/javascript/jscomp/TypeInference.java	2018-05-09 21:07:14.000000000 -0400
@@ -452,7 +452,10 @@
     JSType rightType = getJSType(right);
     n.setJSType(rightType);
 
-    updateScopeForTypeChange(scope, left, leftType, rightType);
+    {
+		updateScopeForTypeChange(scope, left, leftType, rightType);
+		scope = traverseReturn(n, scope);
+	}
     return scope;
   }
 
